<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.145453261a7755f5042a854c4213501d215a8fbe34c08d181c40f803f1315e74.js"></script>





  



    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/favicon.png>

    
    





  





  
  
  


<!-- Open Graph image and Twitter Card metadata -->

<title itemprop="name">w1redch4d - Parser Workflow</title>
<meta property="og:title" content=w1redch4d&#32;-&#32;Parser&#32;Workflow />
<meta name="twitter:title" content=w1redch4d&#32;-&#32;Parser&#32;Workflow />
<meta itemprop="name" content=w1redch4d&#32;-&#32;Parser&#32;Workflow />
<meta name="application-name" content=w1redch4d&#32;-&#32;Parser&#32;Workflow />
<meta property="og:site_name" content="BloggerCh4d" />


<meta name="description" content="" />
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />


<base href="https://w1redch4d.github.io/post/parser-workflow/" />
<link rel="canonical" href="https://w1redch4d.github.io/post/parser-workflow/" itemprop="url" />
<meta name="url" content="https://w1redch4d.github.io/post/parser-workflow/" />
<meta name="twitter:url" content="https://w1redch4d.github.io/post/parser-workflow/" />
<meta property="og:url" content="https://w1redch4d.github.io/post/parser-workflow/" />


<meta property="og:updated_time" content="2025-04-14T11:39:29&#43;05:30" />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://w1redch4d.github.io/sitemap.xml' />

<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />



  
    <meta name="twitter:site" content="@w1redch4d" />
    <meta name="twitter:creator" content="@w1redch4d" />

<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="BloggerCh4d" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.126.2">


    
    

<link type="text/css" rel="stylesheet" href="/css/bundle.min.6513307315781f29e4509b23a7c150cb384b56fde67b79a46b81eaf6b1b60c1b.css">


    
    <style>
    body {
        --sidebar-bg-color: #1A1B2F;
        --sidebar-img-border-color: #3D3A74;
        --sidebar-p-color: #A0AEC0;
        --sidebar-h1-color: #F0F9FF;
        --sidebar-a-color: #C3F3FF;
        --sidebar-socials-color: #9BE8FF;
        --text-color: #2B2D42;
        --bkg-color: #F9FBFD;
        --post-title-color: #1F2937;
        --list-color: #4C566A;
        --link-color: #00B8D9;
        --date-color: #6D9DC5;
        --table-border-color: #CCEFFF;
        --table-stripe-color: #E6F7FB;
        --code-color: #1B1F23;
        --code-background-color: #D0F0FF;
        --code-block-color: #151515;
        --code-block-background-color: #F0F9FF;
        --moon-sun-color: #8AFFEF;
        --moon-sun-background-color: #2D2A55;
    }
    body.dark-theme {
        --text-color: #CBD5E1;
        --bkg-color: #0D1117;
        --post-title-color: #E0F7FA;
        --list-color: #B0BEC5;
        --link-color: #56CCF2;
        --date-color: #6B8CA4;
        --table-border-color: #3A506B;
        --table-stripe-color: #16202A;
        --code-color: #D6F6FF;
        --code-background-color: #2F3E46;
        --code-block-color: #F0F9FF;
        --code-block-background-color: #1E2A38;
    }
    body {
        background-color: var(--bkg-color);
    }
</style>

</head>

    <body class="dark-theme">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
            <a href="https://w1redch4d.github.io/">
                <img src="https://w1redch4d.github.io/images/avatar.jpeg" alt="brand image">
            </a>
        
        
            <a href="https://w1redch4d.github.io/">
                <h1>w1redch4d</h1>
            </a>
        
    </h1>
    <p class="lead">
    Fuzzing my brain till it gets SIGSEGV
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">

        
        
        
        
            

            
                
                
            
                
                
            
            
                
                
                        
                
            
                
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
            
        
        
            

            
                
                
            
                
                
                    <li class="heading">
                        <a href="/posts/">Posts</a>
                    </li>
                    
                        <li class="sub-heading">
                            Recent
                        </li>
                        
                            <li class="bullet">
                                <a href="https://w1redch4d.github.io/post/parser-workflow/">Parser Workflow</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://w1redch4d.github.io/post/lexical-analysis/">Lexical Analysis</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://w1redch4d.github.io/post/compiler-design-principles-in-v8/">Compiler Design Principles in V8</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://w1redch4d.github.io/post/compiler-design-1/">Compiler Design 1</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://w1redch4d.github.io/post/flareon11/">FlareOn11</a>
                            </li>
                        
                    
                
            
            
                
                
                        
                
            
                
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
            
        

    </ul>
</nav>

        
    <a target="_blank" class="social" title="GitHub" href="https://github.com/w1redch4d">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24">
            <path fill="currentColor" d="M18.88 1.099C18.147.366 17.265 0 16.233 0H3.746C2.714 0 1.832.366 1.099 1.099C.366 1.832 0 2.714 0 3.746v12.487c0 1.032.366 1.914 1.099 2.647c.733.733 1.615 1.099 2.647 1.099H6.66c.19 0 .333-.007.429-.02a.504.504 0 0 0 .286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555 0 0 1-.904-.091a2.026 2.026 0 0 1-.872-.39a1.651 1.651 0 0 1-.572-.8l-.13-.3a3.25 3.25 0 0 0-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956 0 0 1-.17-.156a.723.723 0 0 1-.117-.182c-.026-.061-.004-.111.065-.15c.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1 0 0 1 .631.677c.2.355.44.626.722.813c.282.186.566.28.852.28c.286 0 .533-.022.742-.065a2.59 2.59 0 0 0 .585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907 0 0 1-1.333-.234a5.314 5.314 0 0 1-1.223-.507a3.5 3.5 0 0 1-1.047-.872c-.277-.347-.505-.802-.683-1.365c-.177-.564-.266-1.215-.266-1.952c0-1.049.342-1.942 1.027-2.68c-.32-.788-.29-1.673.091-2.652c.252-.079.625-.02 1.119.175c.494.195.856.362 1.086.5c.23.14.414.257.553.352a9.233 9.233 0 0 1 2.497-.338c.859 0 1.691.113 2.498.338l.494-.312a6.997 6.997 0 0 1 1.197-.572c.46-.174.81-.221 1.054-.143c.39.98.424 1.864.103 2.653c.685.737 1.028 1.63 1.028 2.68c0 .737-.089 1.39-.267 1.957c-.177.568-.407 1.023-.689 1.366a3.65 3.65 0 0 1-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9 0 0 1-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36 0 0 0 .208.189c.096.034.18.056.254.064c.074.01.18.013.318.013h2.914c1.032 0 1.914-.366 2.647-1.099c.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/>
        </svg>
    </a>





    <a target="_blank" class="social" title="X" href="https://x.com/w1redch4d">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.1em" height="1.1em" viewBox="0 0 512 472.799">
            <path fill="currentColor" d="M403.229 0h78.506L310.219 196.04 512 462.799H354.002L230.261 301.007 88.669 462.799h-78.56l183.455-209.683L0 0h161.999l111.856 147.88L403.229 0zm-27.556 415.805h43.505L138.363 44.527h-46.68l283.99 371.278z"/>
        </svg>
    </a>

















        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2025 BloggerCh4d. All rights reserved.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <div class="info">
  <h1 class="post-title">
    <a href="https://w1redch4d.github.io/post/parser-workflow/">Parser Workflow</a>
  </h1>

  <div class="headline">
    <div>
      
      
      <time datetime=" 2025-04-14T11:39:29&#43;0530" class="post-date">
        April 14, 2025
      </time>
      
      <span> - </span>
      <span class="reading-time">
        
          
        

        <span>8 mins read</span>
      </span>
    </div>

    
    <ul class="tags">
      
      <li class="tag-v8">
        <a href="https://w1redch4d.github.io/tags/v8">v8</a>
      </li>
      
      <li class="tag-compiler design">
        <a href="https://w1redch4d.github.io/tags/compiler-design">compiler design</a>
      </li>
      
      <li class="tag-parsing">
        <a href="https://w1redch4d.github.io/tags/parsing">parsing</a>
      </li>
      
      <li class="tag-AST">
        <a href="https://w1redch4d.github.io/tags/ast">AST</a>
      </li>
      
    </ul>
    
  </div>

  
  
  <p class="seriesname">
    Series: <a href="https://w1redch4d.github.io/series/understanding-v8-internals">Understanding V8 internals</a>
  </p>
  

  
</div>

  <h1 id="compilation-parser-and-ast">Compilation Parser And AST</h1>
<p>Parsing is the next phase after <a href="Lexical-Analysis.md">Lexical Analysis</a> . It takes the stream of tokens generated by the lexer as input and constructs a hierarchical structure (like an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" target="_blank">AST</a>) that represents the grammatical structure of the program according to the language&rsquo;s syntax and <a href="https://262.ecma-international.org/6.0/" target="_blank">rules</a> . The <a href="https://v8-docs.vercel.app/parser_8cc_source.html" target="_blank"><strong>parser</strong></a> checks if the sequence of tokens forms a valid program in the language.</p>
<p>In V8&rsquo;s pipeline, the parser receives the tokens from the lexer and produces the <a href="https://v8-docs.vercel.app/ast_8cc_source.html" target="_blank">Abstract Syntax Tree (AST)</a> . This AST serves as the foundation for subsequent stages like bytecode generation by the Ignition interpreter and optimizations by the JIT compilers (Sparkplug, Maglev, Turbofan).</p>


<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

    const lsTheme = localStorage.getItem("theme")
    const hugoTheme = document.body.classList.contains("dark-theme") ? "dark" : null
    const currTheme = lsTheme ? lsTheme : hugoTheme;
    const mermaidTheme = currTheme == "light" ? "default" : "dark"

    mermaid.initialize({theme: mermaidTheme});
</script>



<div class="mermaid">
graph TD
    A[Tokens] --> B(Parser);
    B --> C(Abstract Syntax Tree);

</div>

<h2 id="parser-in-v8">Parser in V8</h2>
<p>In the V8 JavaScript engine, once the scanner completes its job, the next critical component in the compilation pipeline is the <strong>&ldquo;parser&rdquo;</strong>. The scanner produces a <a href="https://w1redch4d.github.io/post/lexical-analysis/#token-class" target="_blank">sequence of tokens</a>, which serve as the primary input for the parser. As the parser works through the process of compiling JavaScript code, it continuously interacts with the scanner, frequently invoking it to supply the next set of tokens needed for parsing. To understand this interaction more deeply, we can examine a specific part of the parser’s implementation. A good starting point for this exploration is the <a href="https://v8-docs.vercel.app/parser_8cc_source.html#l00714" target="_blank"><code>DoParseProgram</code></a> function, which plays a central role in initiating the parsing of JavaScript programs. By analyzing this function, we can gain valuable insights into how the parser operates and how it coordinates with the scanner during the compilation process.</p>
<p>The <code>result</code> variable <a href="https://v8-docs.vercel.app/parser_8cc_source.html#l00725" target="_blank">defined in the function</a> in this case will later hold the Abstract Syntax Tree (AST). The AST is a structured representation of the JavaScript code that the parser builds as it processes the tokens. Once the <code>DoParseProgram()</code> function finishes its execution, the complete AST is generated and stored in this <code>result</code> variable. In the context of our example, after the AST has been successfully constructed, the program proceeds to invoke the next method in the compilation sequence, which continues the process based on the parsed and structured code. However following <a href="https://w1redch4d.github.io/post/lexical-analysis/#lexer-in-v8" target="_blank">our testcase back in the previous module</a> the <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l05638" target="_blank"><code>ParseStatementList</code></a> method will be called, it is responsible for parsing the program statements. Inside the method when <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l05644" target="_blank"><code>peek</code> is called</a> , it takes out the type of the token, for our testcase the type obtained by the <a href="https://v8-docs.vercel.app/scanner_8h_source.html#l00326" target="_blank"><code>peek</code></a> method is <code>Token::kFunction</code> hence the result of the first while loop in the method is false and it jumps to <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l05692" target="_blank">the second while loop</a> and invokes the method <a href="http://v8-docs.vercel.app/parser-base_8h_source.html#l05702" target="_blank"><code>ParseStatementListItem()</code></a>. After the function is called we hit a large <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l05722" target="_blank">switch case</a> which takes actions based on the token type determined by the <code>peek()</code> method , since our token type is <code>Token::kFunction</code> we hit the <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l05724" target="_blank"><code>return ParseHoistableDeclaration(nullptr, false);</code></a> and the <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l04655" target="_blank"><code>ParseHoistableDeclaration(ZonePtrList&lt;const AstRawString&gt;* names, bool default_export)</code></a> method is called. Inside the method we encouter <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l04658" target="_blank"><code>Consume(Token::kFunction);</code></a>, that <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l00941" target="_blank"><code>Consume(Token::Value token)</code></a> method is the token cache we talked about in the <a href="https://w1redch4d.github.io/post/intro-v8/#js-engine-pipeline-v8" target="_blank">JS Engine Pipeline of V8&rsquo;s parser in the first article Intro to V8</a>. After obtaining the token type , we need to figure out <a href="https://v8-docs.vercel.app/parser-base_8h_source.html#l04715" target="_blank">which <code>FunctionKind</code> the function is</a>. The <code>Token::kFunction</code> and <a href="https://v8-docs.vercel.app/function-kind_8h_source.html#l00014" target="_blank"><code>FunctionKind</code></a> serves two different purposes as, <code>Token::kFunction</code> is just a part of the JS Engine pipeline in V8 but <code>FunctionKind</code> is an <a href="https://262.ecma-international.org/6.0/#sec-ecmascript-function-objects" target="_blank">ECMA Specs</a>. Now that the parsing part is complete, here is a basic control flow view of the parser in V8 with our testcase :</p>


<div class="mermaid">
graph TD
  A[Start: DoParseProgram] --> B[AST Generation]
  B --> C[ParseStatementList]

  C --> D{peek == Token::kString?}
  D -- Yes --> E[ParseStatementListItem]
  E --> F{IsNull - stat?}
  F -- Yes --> G[Return]
  F -- No --> H[Add stat to body]
  H --> I{IsStringLiteral - stat?}
  I -- No --> J[Break loop]
  I -- Yes --> K{use_strict?}
  K -- Yes --> L[RaiseLanguageMode - kStrict]
  L --> M{scope->HasSimpleParameters?}
  M -- No --> N[ReportMessageAt and Return]
  M -- Yes --> D
  K -- No --> O[RaiseLanguageMode - kSloppy] --> D

  D -- No --> P{peek != end_token}
  P -- Yes --> Q[ParseStatementListItem]
  Q --> R{IsNull - stat?}
  R -- Yes --> S[Return]
  R -- No --> T{IsEmptyStatement?}
  T -- Yes --> P
  T -- No --> U[Add stat to body] --> P
  P -- No --> V[End of ParseStatementList]

  Q --> W[ParseHoistableDeclaration]
  W --> X[Consume - Token::kFunction]
  X --> Y[Check - Token::Mul?]
  Y -- Yes --> Z[Set flags]
  Y -- No --> AA[flags = kIsNormal]
  Z --> AB[ParseHoistableDeclaration - pos, flags,...]
  AA --> AB
  AB --> AC[Determine FunctionKind]
  AC --> AD{kNormalFunction?}
  AD -- Yes --> AE[Parse Token::kIdentifier]
  AE --> AF[Parse Complete]

</div>

<h2 id="parser-optimization-techniques-in-v8">Parser Optimization Techniques in V8</h2>
<p><strong>Lazy Parsing</strong> is an optimization technique in V8 , where the main idea is that the JavaScript code is not fully analyzed or processed (i.e., parsed) until it&rsquo;s actually needed — meaning, until the moment it is about to be executed.
In many programs, some parts of the code might never run. For example, code inside an <code>if</code> statement might not execute if the condition is <code>false</code>, or a function might never be called. So, parsing everything right away can waste time and memory.
To avoid this, V8 delays the parsing of such code until it&rsquo;s absolutely necessary — this is what we call lazy parsing. Similarly, it also delays turning the code into executable machine code, which is known as lazy compilation.
By using both lazy parsing and lazy compilation, V8 can run JavaScript more efficiently, especially when dealing with large programs where not all code is used.</p>
<p>For example , in our case, the <code>is_greater</code>’s type is kNormalFunction, which is the function to be executed immediately, so we need to parse it immediately., hence After analyzing the function name (<code>is_greater</code>), <a href="https://v8-docs.vercel.app/parser_8cc_source.html#l02642" target="_blank"><code>ParseFunctionLiteral</code></a> will be called, which is responsible for parsing the function body.</p>
<p>Referring back to our testcase :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">is_greater</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="mi">1337</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="s2">&#34;GREATER!!&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">is_greater</span><span class="p">(</span><span class="mi">13337</span><span class="p">));</span>
</span></span></code></pre></div><p>You’ll notice that the function <code>is_greater</code> is not executed right away when the program run as first. This behavior meets the condition for lazy parsing. In other words, because the function is not immediately needed, V8 chooses to delay parsing it until it actually gets called.</p>
<p>We can understand this better by looking at the JavaScript code. First, <code>console.log()</code> is executed. Inside that <code>console.log()</code> call, the function <code>is_greater</code> is then invoked. Since <code>is_greater</code> is not used until later, V8 doesn’t need to parse it immediately — which is exactly what lazy parsing aims to optimize.</p>
<p>To confirm this behavior, we can use debugging tools and take a closer look at how V8 handles this function. One way is by setting a breakpoint in the <code>ParseFunctionLiteral</code> method, which is responsible for parsing function definitions. Here is the initial breakpoint screenshot from the debug:</p>
<p><img src="../../assets/img/initial_parser_debug.png" alt="img"></p>
<p>Notice in the callstack , the functions which are being executed is the same as we discussed above, also lets watch the <code>is_lazy</code> and <code>is_top_level</code> variables and see how they changes with further debugging.</p>
<p><img src="../../assets/img/variable_changing_parser.png" alt="img"></p>
<p>From this, we observe that two important member variables — <code>is_lazy</code> and <code>is_top_level</code> — are both set to <code>true</code>. This strongly supports our earlier claim: the function is parsed lazily and is recognized as a top-level function that doesn’t need to be parsed right away.</p>
<p>Additionally, we can inspect the <strong>Abstract Syntax Tree (AST)</strong> — a structural representation of the code — by running the following command:</p>
<pre tabindex="0"><code>./out/x64.debug/d8 --print-ast ../test.js                                                                                    ─╯
[generating bytecode for function: ]
--- AST ---
FUNC at 0
. KIND 0
. LITERAL ID 0
. SUSPEND COUNT 0
. NAME &#34;&#34;
. INFERRED NAME &#34;&#34;
. DECLS
. . FUNCTION &#34;is_greater&#34; = function is_greater
. EXPRESSION STATEMENT at 66
. . kAssign at -1
. . . VAR PROXY local[0] (0x557657fd24c8) (mode = TEMPORARY, assigned = true) &#34;.result&#34;
. . . CALL
. . . . PROPERTY at 74
. . . . . VAR PROXY unallocated (0x557657fd2588) (mode = DYNAMIC_GLOBAL, assigned = false) &#34;console&#34;
. . . . . NAME log
. . . . CALL
. . . . . VAR PROXY unallocated (0x557657fd2370) (mode = VAR, assigned = true) &#34;is_greater&#34;
. . . . . LITERAL 13337
. RETURN at -1
. . VAR PROXY local[0] (0x557657fd24c8) (mode = TEMPORARY, assigned = true) &#34;.result&#34;

[generating bytecode for function: is_greater]
--- AST ---
FUNC at 19
. KIND 0
. LITERAL ID 1
. SUSPEND COUNT 0
. NAME &#34;is_greater&#34;
. INFERRED NAME &#34;&#34;
. PARAMS
. . VAR (0x557657fd2400) (mode = VAR, assigned = false) &#34;a&#34;
. DECLS
. . VARIABLE (0x557657fd2400) (mode = VAR, assigned = false) &#34;a&#34;
. IF at 25
. . CONDITION at 30
. . . kGreaterThan at 30
. . . . VAR PROXY parameter[0] (0x557657fd2400) (mode = VAR, assigned = false) &#34;a&#34;
. . . . LITERAL 1337
. . THEN at -1
. . . BLOCK at -1
. . . . RETURN at 41
. . . . . LITERAL &#34;GREATER!!&#34;
</code></pre><p>In the next blog i will delve deeper into bytecode generation and maybe a case study of a bug thats related to it. Thanks for reading :D</p>

  
  <hr>
<div class="footer">
    
    
    
    <p>
    This is a post in the <b><a href="https://w1redch4d.github.io/series/understanding-v8-internals">Understanding V8 internals</a></b> series.
        <br>Other posts in this series:
        <ul class="series">
            
            
            
            <li>
                April 14, 2025 -
                
                    Parser Workflow
                
            </li>
            
            <li>
                April 13, 2025 -
                
                    <a href="/post/lexical-analysis/">Lexical Analysis</a>
                
            </li>
            
            <li>
                April 12, 2025 -
                
                    <a href="/post/compiler-design-principles-in-v8/">Compiler Design Principles in V8</a>
                
            </li>
            
            <li>
                April 12, 2025 -
                
                    <a href="/post/compiler-design-1/">Compiler Design 1</a>
                
            </li>
            
            <li>
                April 11, 2025 -
                
                    <a href="/post/intro-v8/">Intro V8</a>
                
            </li>
            
        </ul>
    </p>
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#parser-in-v8">Parser in V8</a></li>
    <li><a href="#parser-optimization-techniques-in-v8">Parser Optimization Techniques in V8</a></li>
  </ul>
</nav>
    </div>
</div>

  

        </div>
    </body>
</html>
